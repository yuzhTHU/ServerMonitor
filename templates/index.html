<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FIB-Lab 服务器性能监控</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <h1>FIB-Lab 服务器性能监控</h1>

        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="dashboard-tab" data-bs-toggle="tab" data-bs-target="#dashboard" type="button" role="tab">仪表盘</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="history-tab" data-bs-toggle="tab" data-bs-target="#history" type="button" role="tab">历史数据</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="user-tab" data-bs-toggle="tab" data-bs-target="#user" type="button" role="tab">用户数据</button>
            </li>
        </ul>

        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="dashboard" role="tabpanel">
                <div id="dashboardCards" class="row"></div>
            </div>
            <div class="tab-pane fade" id="history" role="tabpanel">
                <div class="container">
                    <div class="row mt-3">
                        <div class="col-md-4">
                            <label for="host-select">选择服务器:</label>
                            <select id="host-select" class="form-control">
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label for="start-date">开始时间:</label>
                            <input type="date" id="start-date" class="form-control">
                        </div>
                        <div class="col-md-4">
                            <label for="end-date">结束时间:</label>
                            <input type="date" id="end-date" class="form-control">
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-12"> <button id="fetch-history" class="btn btn-primary">获取历史数据</button> </div>
                    </div>
                    <div class="col">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title" id="chart-title-cpu">CPU</h5>
                            </div>
                            <div class="card-body">
                                <canvas id="cpu-chart"></canvas>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title" id="chart-title-mem">Memory</h5>
                            </div>
                            <div class="card-body">
                                <canvas id="mem-chart"></canvas>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title" id="chart-title-cuda">CUDA</h5>
                            </div>
                            <div class="card-body">
                                <canvas id="cuda-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="user" role="tabpanel">
                <div class="container mt-3">
                    <div class="row mt-3">
                        <div class="col-md-3">
                            <label for="sort-select">Sort by:</label>
                            <select id="sort-select" class="form-control">
                                <option value="cpu" selected>CPU</option>
                                <option value="memory">Memory</option>
                                <option value="cuda">CUDA</option>
                            </select>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-12">
                            <button id="fetch-user-data" class="btn btn-primary">刷新数据</button>
                        </div>
                    </div>
                    <div class="row mt-5">
                        <div class="col-md-12">
                            <div id="user-summary" class="col">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="text-center mt-4 py-4" style="background-color: #f8f9fa;">
        <p>服务器监控系统 | <a href="https://github.com/yuzhTHU/ServerMonitor" target="_blank">GitHub 仓库</a></p>
        <p>&copy; 2024</p>
    </footer>    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/dashboard.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <script src="js/history.js"></script>

    <script src="js/summary.js"></script>
</body>
</html>
